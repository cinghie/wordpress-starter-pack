jQuery((function(a){"use strict";var e=a("body"),t=(a(".add-request-quote-button"),a(document).find("#yith-ywrq-table-list")),i=document.location.href;a(".yith-ywraq-item-remove");if(t.length>0&&ywraq_frontend.raq_table_refresh_check&&a.post(i,(function(e){if(""!=e){var t=a("<div></div>").html(e).find("#yith-ywrq-table-list");a("#yith-ywrq-table-list").html(t.html()),a(document).trigger("ywraq_table_reloaded")}})),e.hasClass("single-product")){var r=a('[name|="product_id"]'),n=r.val(),d=a(".add-to-quote-"+n).find("a"),o=d.parents(".yith-ywraq-add-to-quote"),s=a('[name|="variation_id"]');s.on("change",(function(){""==a(this).val()?d.parent().hide().removeClass("show"):a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:"action=yith_ywraq_action&ywraq_action=variation_exist&variation_id="+s.val()+"&product_id="+r.val()+"wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce,success:function(e){!0===e.result?(d.parent().hide().removeClass("show"),0==a(".yith_ywraq_add_item_browse-list-"+r.val()).length&&(o.append('<div class="yith_ywraq_add_item_response-'+r.val()+' yith_ywraq_add_item_response_message">'+e.message+"</div>"),o.append('<div class="yith_ywraq_add_item_browse-list-'+r.val()+' yith_ywraq_add_item_browse_message"><a href="'+e.rqa_url+'">'+e.label_browse+"</a></div>"))):(a(".yith_ywraq_add_item_response-"+r.val()).remove(),a(".yith_ywraq_add_item_browse-list-"+r.val()).remove(),d.parent().show().addClass("show"))}})}))}a(document).on("click",".add-request-quote-button",(function(e){e.preventDefault();var t=a(this),i=t.parents(".yith-ywraq-add-to-quote"),r="ac";if(t.parents("ul.products").length>0)var n=t.parents("li.product").find('input[name="add-to-cart"]'),d=t.parents("li.product").find('input[name="product_id"]');else n=t.parents(".product").find('input[name="add-to-cart"]'),d=t.parents(".product").find('input[name="product_id"]');(n.length>0&&d.length>0||a(".cart").length>0)&&(r=a(".cart").serialize()),(r+="&action=yith_ywraq_action&ywraq_action=add_item&product_id="+t.data("product_id")+"&wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce).indexOf("add-to-cart")>0&&(r=r.replace("add-to-cart","yith-add-to-cart")),a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:r,beforeSend:function(){t.siblings(".ajax-loading").css("visibility","visible")},complete:function(){t.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){if("true"==a.result||"exists"==a.result){t.parent().hide().removeClass("show").addClass("addedd");var e=void 0===d.val()?"":"-"+d.val();i.append('<div class="yith_ywraq_add_item_response'+e+' yith_ywraq_add_item_response_message">'+a.message+"</div>"),i.append('<div class="yith_ywraq_add_item_browse-list'+e+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>")}else"false"==a.result&&i.append('<div class="yith_ywraq_add_item_response-'+d.val()+'">'+a.message+"</div>")}})})),a(document).on("click",".yith-ywraq-item-remove",(function(e){e.preventDefault();var t,i=a(this),r=i.data("remove-item");a("#yith-ywraq-form");t="action=yith_ywraq_action&ywraq_action=remove_item&key="+i.data("remove-item")+"&wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce+"&product_id="+i.data("product_id"),a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:t,beforeSend:function(){i.siblings(".ajax-loading").css("visibility","visible")},complete:function(){i.siblings(".ajax-loading").css("visibility","hidden")},success:function(e){1===e&&(a("[data-remove-item='"+r+"']").parents(".cart_item").remove(),0===a(".cart_item").length&&(a("#yith-ywraq-form, #yith-ywraq-mail-form, .yith-ywraq-mail-form-wrapper").remove(),a("#yith-ywraq-message").text(ywraq_frontend.no_product_in_list)))}})})),a(document).find(".theme-yith-proteo.yith-request-a-quote-page .woocommerce-message").removeAttr("role")}));