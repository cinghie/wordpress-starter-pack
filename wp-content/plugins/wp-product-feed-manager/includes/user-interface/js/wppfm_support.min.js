function wppfm_activateFeedCategory(d){if(d!=="wppfm_all_categories_selected"){wppfm_activateFeedCategorySelector(d);var b=jQuery("#feed-selector-"+d).attr("data-children")?JSON.parse(jQuery("#feed-selector-"+d).attr("data-children")):[];for(var a=0;a<b.length;a++){wppfm_activateFeedCategorySelector(b[a])}}else{var c=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<c.length;a++){wppfm_activateFeedCategorySelector(jQuery(c[a]).children("th").children("input").val())}}}function wppfm_activateFeedCategorySelector(e){var a=wppfm_channelUsesOwnCategories(_feedHolder.channel);var b=a?"shopCategory":"default";_feedHolder.activateCategory(e,a);var d=jQuery("#feed-selector-"+e).attr("data-children")?JSON.parse(jQuery("#feed-selector-"+e).attr("data-children")):[];if(jQuery("#feed-category-"+e).html()===""){jQuery("#feed-category-"+e).html(wppfm_mapToDefaultCategoryElement(e,b))}jQuery("#feed-selector-"+e).prop("checked",true);for(var c=0;c<d.length;c++){wppfm_activateFeedCategorySelector(d[c])}}function wppfm_deactivateFeedCategory(d){if(d!=="wppfm_all_categories_selected"){wppfm_deactivateFeedCategorySelector(d,true);var b=jQuery("#feed-selector-"+d).attr("data-children")?JSON.parse(jQuery("#feed-selector-"+d).attr("data-children")):[];for(var a=0;a<b.length;a++){wppfm_deactivateFeedCategorySelector(b[a],false)}}else{var c=jQuery("tbody#wppfm-category-mapping-body").children("tr");for(var a=0;a<c.length;a++){wppfm_deactivateFeedCategorySelector(jQuery(c[a]).children("th").children("input").val())}}}function wppfm_contains_special_characters(b){var a="%^#<>{}[]/~`@?:;=&";for(var c=0;c<a.length;c++){if(b.indexOf(a[c])>-1){return true}}return false}function wppfm_deactivateFeedCategorySelector(d,c){_feedHolder.deactivateCategory(d);jQuery("#feed-category-"+d).html("");jQuery("#category-selector-catmap-"+d).hide();jQuery("#feed-selector-"+d).prop("checked",false);if(!c){var b=jQuery("#feed-selector-"+d).attr("data-children")?JSON.parse(jQuery("#feed-selector-"+d).attr("data-children")):[];for(var a=0;a<b.length;a++){wppfm_deactivateFeedCategorySelector(b[a],false)}}}function wppfm_hideSubs(c){var d=c.match(/(\d+)$/)[0];var a=c.substring(0,c.length-d.length);for(var b=7;b>d;b--){jQuery("#"+a+b).css("display","none");jQuery("#"+a+b).empty()}}function wppfm_splitCombinedFieldElements(d){if(!d){return[]}var c=/\|[0-9]/;var a=[];var b=0;while((match=c.exec(d))!==null){var e=match.index;a.push(d.substring(b,e));d=d.slice(e+1)}a.push(d);return a}function wppfm_show_feed_spinner(){jQuery("#feed-spinner").show();jQuery("body").css("cursor","wait");jQuery("#wppfm-generate-feed-button-top").attr("disabled",true);jQuery("#wppfm-generate-feed-button-bottom").attr("disabled",true);jQuery("#wppfm-save-feed-button-top").attr("disabled",true);jQuery("#wppfm-save-feed-button-bottom").attr("disabled",true)}function wppfm_hide_feed_spinner(){jQuery("#feed-spinner").hide();jQuery("body").css("cursor","default");jQuery("#wppfm-generate-feed-button-top").attr("disabled",false);jQuery("#wppfm-generate-feed-button-bottom").attr("disabled",false);jQuery("#wppfm-save-feed-button-top").attr("disabled",false);jQuery("#wppfm-save-feed-button-bottom").attr("disabled",false)}function wppfm_enableFeedActionButtons(){jQuery("#wppfm-generate-feed-button-top").prop("disabled",false);jQuery("#wppfm-generate-feed-button-bottom").prop("disabled",false);jQuery("#wppfm-save-feed-button-top").prop("disabled",false);jQuery("#wppfm-save-feed-button-bottom").prop("disabled",false)}function disableFeedActionButtons(){jQuery("#wppfm-generate-feed-button-top").prop("disabled",true);jQuery("#wppfm-generate-feed-button-bottom").prop("disabled",true);jQuery("#wppfm-save-feed-button-top").prop("disabled",true);jQuery("#wppfm-save-feed-button-bottom").prop("disabled",true)}function wppfm_show_error_message(a){jQuery("#error-message").empty();jQuery("#error-message").append("<p>"+a+"</p>");jQuery("#error-message").show()}function wppfm_show_success_message(a){jQuery("#success-message").empty();jQuery("#success-message").append("<p>"+a+"</p>");jQuery("#success-message").show()};