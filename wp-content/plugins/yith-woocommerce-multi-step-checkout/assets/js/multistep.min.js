!function(w){var e=w("body"),t=w(yith_wcms.dom.login),i=w(yith_wcms.dom.billing),n=w(yith_wcms.dom.shipping),s=w(yith_wcms.dom.order),o=w(yith_wcms.dom.payment),f=w(yith_wcms.dom.form_actions),v=w(yith_wcms.dom.coupon),g={login:t,billing:i,shipping:n,order:s,payment:o};e.on("updated_checkout yith_wcms_myaccount_order_pay",function(t){"updated_checkout"==t.type&&(g.payment=w(yith_wcms.dom.payment)),"payment"==f.data("step")&&w(yith_wcms.dom.payment).show(),e.trigger("yith_wcms_updated_checkout")}),e.hasClass("woocommerce-order-pay")&&e.trigger("yith_wcms_myaccount_order_pay"),e.on("yith_wcms_select2",function(t){var i;w().select2&&((i=function(){w("select.country_select, select.state_select").each(function(){var t={placeholder:w(this).attr("placeholder"),placeholderOption:"first",width:"100%"};w(this).select2(t)})})(),e.bind("country_to_state_changed",function(){i()}))}),1!=yith_wcms.wc_shipping_multiple&&e.trigger("yith_wcms_select2"),f.find(yith_wcms.dom.button_prev).add(yith_wcms.dom.button_next).on("click",function(t){var i,e=w(this),n=f.data("step"),s=(i=n,yith_wcms.steps_timeline[i]),o=s.next,a=s.prev;c(e,n,o,a)});var c=function(t,i,e,n){var s=w(yith_wcms.dom.checkout_timeline),o=t.data("action"),a=f.find(yith_wcms.dom.button_prev),c=f.find(yith_wcms.dom.button_next),d=(s.find(".active").data("step"),w(yith_wcms.dom.checkout_form));"prev"==o&&c.removeClass("disabled").removeAttr("disabled");var _,m,r=function(t){"order"==t||w(document).triggerHandler("yith_wmcs_show_coupon",t)?v.fadeIn(yith_wcms.transition_duration):v.fadeOut(yith_wcms.transition_duration)};s.find(".active").removeClass("active"),"next"==o?(f.data("step",e),_=w(yith_wcms.dom.timeline_id_prefix+e),g[i].fadeOut(yith_wcms.transition_duration,function(){g[e].fadeIn(yith_wcms.transition_duration),r(e)}),_.toggleClass("active")):"prev"==o&&(m=w(yith_wcms.dom.timeline_id_prefix+n),f.data("step",n),g[i].fadeOut(yith_wcms.transition_duration,function(){g[n].fadeIn(yith_wcms.transition_duration)}),r(n),m.toggleClass("active")),i=f.data("step");var h=w(yith_wcms.dom.checkout_timeline),y=h.find("li.active").index(),l=h.find("li").filter(":lt("+y+")").filter(":not(.active)");h.find("li.done").removeClass("done"),l.addClass("done");var u=!1,p=!1;"next"==o&&!1===yith_wcms.steps_timeline[e][o]&&(p=!0),"prev"==o&&!1===yith_wcms.steps_timeline[n][o]&&(u=!0),!0===u?a.fadeOut(yith_wcms.transition_duration):a.fadeIn(yith_wcms.transition_duration).css("display","inline-block"),!0===p?c.fadeOut(yith_wcms.transition_duration):c.fadeIn(yith_wcms.transition_duration).css("display","inline-block"),"payment"==i?(d.removeClass("processing"),"yes"==yith_wcms.disabled_prev_button&&a.fadeOut(yith_wcms.transition_duration)):d.addClass("processing")}}(jQuery);